(function(){'use strict';async function copyToClipboard(text){if(!text)return!1;if(navigator.clipboard&&navigator.clipboard.writeText){try{await navigator.clipboard.writeText(text);return!0}catch(err){}}
return new Promise((resolve)=>{try{const textArea=document.createElement("textarea");textArea.value=text;textArea.style.position="fixed";textArea.style.left="-9999px";textArea.style.top="0";document.body.appendChild(textArea);textArea.focus();textArea.select();const successful=document.execCommand('copy');document.body.removeChild(textArea);resolve(successful)}catch(err){resolve(!1)}})}
document.addEventListener('click',function(e){const btn=e.target.closest('.gdos-coupon__btn');if(!btn||btn.classList.contains('copied'))return;e.preventDefault();const wrapper=btn.closest('.gdos-coupon');if(!wrapper)return;const codeEl=wrapper.querySelector('.gdos-coupon__hidden-code');if(!codeEl)return;const codeText=(codeEl.value||codeEl.textContent||'').trim();if(!codeText)return;copyToClipboard(codeText).then(function(success){if(success){const originalHtml=btn.innerHTML;const originalWidth=btn.getBoundingClientRect().width;btn.style.width=originalWidth+'px';btn.style.justifyContent='center';btn.classList.add('copied');btn.innerHTML='<span class="gdos-coupon__btn-icon"><i class="fas fa-check"></i></span><span>¡LISTO!</span>';setTimeout(function(){btn.classList.remove('copied');btn.innerHTML=originalHtml;btn.style.width='';btn.style.justifyContent=''},2000)}else{alert('No se pudo copiar automáticamente. Código: '+codeText)}})})})()
;